(this["webpackJsonpstudy-progress-app"]=this["webpackJsonpstudy-progress-app"]||[]).push([[0],{23:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),i=a(12),n=a.n(i),l=(a(23),a(0));const o=["Anatomi","Patoloji","Farmakoloji","Mikrobiyoloji","Biyokimya","Fizyoloji \u2013 Histoloji \u2013 Embriyoloji","Dahiliye","Pediatri","Kad\u0131n Do\u011fum ve Hastal\u0131klar","Genel Cerrahi","K\xfc\xe7\xfck Stajlar"];var c=e=>{let{onAddLesson:t,disabled:a}=e;const[r,i]=Object(s.useState)((()=>(new Date).toISOString().split("T")[0])),[n,c]=Object(s.useState)(""),[d,j]=Object(s.useState)(""),[b,u]=Object(s.useState)(""),[x,h]=Object(s.useState)(""),[p,g]=Object(s.useState)("");Object(s.useEffect)((()=>{const e=localStorage.getItem("lastSelectedLesson");e&&u(e)}),[]);return a?Object(l.jsx)("div",{children:"Sayfa say\u0131lar\u0131 y\xfckleniyor..."}):Object(l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!b)return;if(""===n||Number(n)<1)return;if(""===x||Number(x)<0)return;if(""===p||Number(p)<0||Number(p)>59)return;if(""===d||Number(d)<0)return;const a=Number(x)+Number(p)/60,s={title:b,date:r,pageStudied:Number(n),hoursStudied:a,questionsSolved:Number(d)};t(s),c(""),j(""),h(""),g(""),i((new Date).toISOString().split("T")[0])},children:[Object(l.jsx)("div",{children:Object(l.jsxs)("label",{children:["Tarih:",Object(l.jsx)("input",{type:"date",value:r,onChange:e=>i(e.target.value),required:!0})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("label",{children:["Ders:",Object(l.jsxs)("select",{value:b,onChange:e=>{u(e.target.value),localStorage.setItem("lastSelectedLesson",e.target.value)},required:!0,children:[Object(l.jsx)("option",{value:"",children:"Se\xe7iniz"}),o.map((e=>Object(l.jsx)("option",{value:e,children:e},e)))]})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("label",{children:["\xc7al\u0131\u015f\u0131lan Sayfa:",Object(l.jsx)("input",{type:"number",value:n,onChange:e=>c(e.target.value),required:!0,min:"1"})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)("label",{children:["\xc7\xf6z\xfclen Soru:",Object(l.jsx)("input",{type:"number",value:d,onChange:e=>j(e.target.value),required:!0,min:"0"})]})}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{children:["Saat:",Object(l.jsx)("input",{type:"number",min:"0",value:x,onChange:e=>h(e.target.value),required:!0,style:{width:60,marginRight:8}})]}),Object(l.jsxs)("label",{children:["Dakika:",Object(l.jsx)("input",{type:"number",min:"0",max:"59",value:p,onChange:e=>g(e.target.value),required:!0,style:{width:60}})]})]}),Object(l.jsx)("button",{type:"submit",disabled:a,children:"Kaydet"})]})};const d=e=>{if(!e)return"-";const[t,a,s]=e.split("-");if(!t||!a||!s)return"-";return`${Number(s)} ${["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][Number(a)-1]} ${t}`},j=["Anatomi","Patoloji","Farmakoloji","Mikrobiyoloji","Biyokimya","Fizyoloji \u2013 Histoloji \u2013 Embriyoloji"],b=["Dahiliye","Pediatri","Kad\u0131n Do\u011fum ve Hastal\u0131klar","Genel Cerrahi","K\xfc\xe7\xfck Stajlar"],u=new Date("2025-08-17T00:00:00"),x=()=>{const e=()=>{const e=new Date,t=u.getTime()-e.getTime();return t>0?Math.ceil(t/864e5):0},[t,a]=Object(s.useState)(e());return Object(s.useEffect)((()=>{const t=setInterval((()=>{a(e())}),6e4);return()=>clearInterval(t)}),[]),Object(l.jsxs)("div",{style:{background:"#23272a",color:"#ffb300",borderRadius:10,padding:"12px 18px",fontSize:26,fontWeight:700,textAlign:"center",marginBottom:18,letterSpacing:1.2,border:"1.5px solid #444",maxWidth:420,marginLeft:"auto",marginRight:"auto"},children:["S\u0131nava Kalan G\xfcn: ",t]})};var h=e=>{let{progressList:t,onDeleteLesson:a,lessonTotalPages:r,showOnlyLineGraph:i=!1}=e;const n=t.reduce(((e,t)=>(e[t.title]||(e[t.title]={pages:0,questions:0,totalPages:t.totalPages,repeatTimes:t.repeatTimes}),e[t.title].pages+=t.pageStudied,e[t.title].questions+=t.questionsSolved||0,e[t.title].totalPages=t.totalPages,e[t.title].repeatTimes=t.repeatTimes,e)),{}),o=t.reduce(((e,t)=>(e[t.date]||(e[t.date]={pages:0,hours:0,questions:0}),e[t.date].pages+=t.pageStudied,e[t.date].hours+=t.hoursStudied||0,e[t.date].questions+=t.questionsSolved||0,e)),{}),c=(e,t)=>t>0?Math.min(100,Math.round(e/t*100)):0,u=[...t].sort(((e,t)=>e.date===t.date?0:e.date<t.date?1:-1)),h=Object.keys(o).sort(((e,t)=>e.localeCompare(t))),p=(Math.max(...Object.values(o).map((e=>e.pages)),1),Math.max(...Object.values(o).map((e=>e.questions)),1),Math.max(...Object.values(o).map((e=>e.hours)),1),()=>{if(0===h.length)return null;const e=h.map((e=>o[e].pages)),t=h.map((e=>o[e].questions)),a=h.map((e=>o[e].hours)),s=Math.max(...e,1),r=Math.max(...t,1),i=Math.max(...a,1),n=Math.max(400,70*h.length),c=220,j=44,b=(n-88)/Math.max(1,h.length-1),u=(e,t)=>e.map(((e,a)=>[j+a*b,176-e/t*132])),p=e=>e.reduce(((e,t,a)=>{let[s,r]=t;return e+(0===a?`M${s},${r}`:` L${s},${r}`)}),""),g=u(e,s),O=u(t,r),m=u(a,i);return Object(l.jsxs)("div",{style:{background:"#23272a",borderRadius:12,padding:20,marginBottom:24,overflowX:"auto",boxShadow:"0 2px 12px rgba(0,0,0,0.18)",border:"1.5px solid #333",minWidth:340,maxWidth:"100%"},children:[Object(l.jsxs)("h3",{style:{margin:"0 0 12px 0",color:"#e0e0e0",fontSize:20,letterSpacing:.5,textAlign:"center"},children:[Object(l.jsx)(x,{}),"G\xfcnl\xfck \xc7al\u0131\u015fma \xc7izgi Grafi\u011fi"]}),Object(l.jsx)("div",{style:{width:"100%",overflowX:"auto"},children:Object(l.jsxs)("svg",{width:n,height:c,style:{display:"block",margin:"0 auto",background:"#23272a"},children:[[.25,.5,.75,1].map((e=>{const t=j+132*(1-e);return Object(l.jsx)("line",{x1:j,x2:n-j,y1:t,y2:t,stroke:"#444",strokeDasharray:"3,3"},e)})),Object(l.jsx)("text",{x:6,y:52,fontSize:"15",fill:"#4caf50",textAnchor:"start",fontWeight:"bold",style:{letterSpacing:1},children:"Sayfa"}),Object(l.jsx)("text",{x:6,y:76,fontSize:"15",fill:"#2196f3",textAnchor:"start",fontWeight:"bold",style:{letterSpacing:1},children:"Soru"}),Object(l.jsx)("text",{x:6,y:100,fontSize:"15",fill:"#ffb300",textAnchor:"start",fontWeight:"bold",style:{letterSpacing:1},children:"Saat"}),Object(l.jsx)("path",{d:p(g),fill:"none",stroke:"#4caf50",strokeWidth:"3"}),Object(l.jsx)("path",{d:p(O),fill:"none",stroke:"#2196f3",strokeWidth:"3"}),Object(l.jsx)("path",{d:p(m),fill:"none",stroke:"#ffb300",strokeWidth:"3"}),g.map(((t,a)=>{let[s,r]=t;return Object(l.jsxs)("g",{children:[Object(l.jsx)("circle",{cx:s,cy:r,r:5,fill:"#4caf50",stroke:"#23272a",strokeWidth:"2"}),Object(l.jsx)("text",{x:s,y:r-12,fontSize:"12",fill:"#4caf50",textAnchor:"middle",fontWeight:"bold",children:e[a]})]},"p"+a)})),O.map(((e,a)=>{let[s,r]=e;return Object(l.jsxs)("g",{children:[Object(l.jsx)("circle",{cx:s,cy:r,r:5,fill:"#2196f3",stroke:"#23272a",strokeWidth:"2"}),Object(l.jsx)("text",{x:s,y:r-12,fontSize:"12",fill:"#2196f3",textAnchor:"middle",fontWeight:"bold",children:t[a]})]},"q"+a)})),m.map(((e,t)=>{let[s,r]=e;return Object(l.jsxs)("g",{children:[Object(l.jsx)("circle",{cx:s,cy:r,r:5,fill:"#ffb300",stroke:"#23272a",strokeWidth:"2"}),Object(l.jsx)("text",{x:s,y:r+20,fontSize:"12",fill:"#ffb300",textAnchor:"middle",fontWeight:"bold",children:a[t]})]},"h"+t)})),h.map(((e,t)=>Object(l.jsx)("text",{x:j+t*b,y:198,textAnchor:"middle",fontSize:"13",fill:"#b0b0b0",fontWeight:"bold",children:d(e).split(" ")[0]},e)))]})}),Object(l.jsxs)("div",{style:{display:"flex",gap:18,fontSize:15,marginTop:10,color:"#b0b0b0",justifyContent:"center"},children:[Object(l.jsxs)("span",{children:[Object(l.jsx)("span",{style:{display:"inline-block",width:18,height:6,background:"#4caf50",borderRadius:2,marginRight:6}})," Sayfa"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("span",{style:{display:"inline-block",width:18,height:6,background:"#2196f3",borderRadius:2,marginRight:6}})," Soru"]}),Object(l.jsxs)("span",{children:[Object(l.jsx)("span",{style:{display:"inline-block",width:18,height:6,background:"#ffb300",borderRadius:2,marginRight:6}})," Saat"]})]})]})});if(i)return Object(l.jsx)(p,{});const[g,O]=Object(s.useState)(null);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"\xc7al\u0131\u015fma Grafi\u011fi"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Toplam \xc7al\u0131\u015f\u0131lan (Ders Baz\u0131nda)"}),Object(l.jsx)("div",{className:"card-row",children:j.map((e=>{const t=n[e],a=t?t.totalPages:r[e]||"-",s=t?t.pages:0;return Object(l.jsxs)("div",{className:"card-style",children:[Object(l.jsx)("strong",{style:{color:"#4cafef"},children:e}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan Sayfa:"})," ",s," / ",a," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7\xf6z\xfclen Soru:"})," ",t?t.questions:"-"," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Toplam Sayfa:"})," ",a," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Kalan Sayfa:"})," ","-"!==a?Math.max(0,a-s):"-"," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Ka\xe7\u0131nc\u0131 Tekrar:"})," ",t?t.repeatTimes:"-"," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\u0130lerleme:"})," ","-"!==a&&a>0?c(s,a):0,"%",Object(l.jsx)("div",{className:"progress-bar-bg",children:Object(l.jsx)("div",{className:"progress-bar-fill",style:{width:"-"!==a&&a>0?`${c(s,a)}%`:"0%"}})})]},e)}))}),Object(l.jsx)("div",{className:"card-row",children:b.map((e=>{const t=n[e],a=t?t.totalPages:r[e]||"-",s=t?t.pages:0;return Object(l.jsxs)("div",{className:"card-style",children:[Object(l.jsx)("strong",{style:{color:"#4cafef"},children:e}),Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan Sayfa:"})," ",s," / ",a," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7\xf6z\xfclen Soru:"})," ",t?t.questions:"-"," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Toplam Sayfa:"})," ",a," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Kalan Sayfa:"})," ","-"!==a?Math.max(0,a-s):"-"," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Ka\xe7\u0131nc\u0131 Tekrar:"})," ",t?t.repeatTimes:"-"," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\u0130lerleme:"})," ","-"!==a&&a>0?c(s,a):0,"%",Object(l.jsx)("div",{className:"progress-bar-bg",children:Object(l.jsx)("div",{className:"progress-bar-fill",style:{width:"-"!==a&&a>0?`${c(s,a)}%`:"0%"}})})]},e)}))})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"G\xfcnl\xfck Toplamlar"}),Object(l.jsx)("div",{style:{maxHeight:220,overflowY:"auto",background:"#23272a",borderRadius:8,padding:8,border:"1px solid #333"},children:Object(l.jsx)("ul",{style:{margin:0},children:Object.entries(o).sort(((e,t)=>{let[a]=e,[s]=t;return a<s?1:-1})).map((e=>{let[t,a]=e;return Object(l.jsxs)("li",{children:[Object(l.jsxs)("strong",{children:[d(t),":"]})," ",a.pages," sayfa, ",a.questions," soru, ",a.hours," saat",Object(l.jsx)("br",{}),Object(l.jsxs)("span",{children:["Saatte Ortalama Sayfa/Soru: ",a.hours>0?(a.pages/a.hours).toFixed(2):"-"," / ",a.hours>0?(a.questions/a.hours).toFixed(2):"-"]})]},t)}))})})]}),Object(l.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:18,marginTop:24,marginBottom:24,justifyContent:"flex-start"},children:u.map(((e,t)=>Object(l.jsxs)("div",{style:{background:"#23272a",border:"1px solid #444",borderRadius:10,padding:"16px 20px",color:"#fff",minWidth:240,maxWidth:270,margin:0,display:"flex",flexDirection:"column",alignItems:"flex-start",position:"relative"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:"Ders:"})," ",e.title," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Tarih:"})," ",d(e.date)," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan Sayfa:"})," ",e.pageStudied," / ",e.totalPages," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7\xf6z\xfclen Soru:"})," ",e.questionsSolved," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"Ka\xe7\u0131nc\u0131 Tekrar:"})," ",e.repeatTimes," ",Object(l.jsx)("br",{}),Object(l.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan saat:"})," ",e.hoursStudied]}),Object(l.jsx)("button",{style:{background:"#d32f2f",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer",marginTop:12,alignSelf:"flex-end"},onClick:()=>O(t),children:"Sil"}),g===t&&Object(l.jsxs)("div",{style:{background:"#23272a",border:"1px solid #444",borderRadius:8,padding:12,color:"#fff",minWidth:180,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:10,boxShadow:"0 2px 12px rgba(0,0,0,0.25)"},children:["Silmek istedi\u011finize emin misiniz?",Object(l.jsxs)("div",{style:{marginTop:8,display:"flex",gap:10},children:[Object(l.jsx)("button",{style:{background:"#d32f2f",color:"#fff",border:"none",borderRadius:6,padding:"6px 16px",fontWeight:600},onClick:()=>{e.id&&a(e.id),O(null)},children:"Evet"}),Object(l.jsx)("button",{style:{background:"#444",color:"#fff",border:"none",borderRadius:6,padding:"6px 16px",fontWeight:600},onClick:()=>O(null),children:"Hay\u0131r"})]})]})]},t)))})]})},p=a(13),g=a(3);const O=Object(p.a)({apiKey:"AIzaSyCUr_F1fI7EGdWoNKF8Ax-AUUkcm_hwm1Y",authDomain:"study-progress-app-a8e0c.firebaseapp.com",projectId:"study-progress-app-a8e0c"}),m=Object(g.f)(O);const f=["Anatomi","Patoloji","Farmakoloji","Mikrobiyoloji","Biyokimya","Fizyoloji \u2013 Histoloji \u2013 Embriyoloji","Dahiliye","Pediatri","Kad\u0131n Do\u011fum ve Hastal\u0131klar","Genel Cerrahi","K\xfc\xe7\xfck Stajlar"];var y=()=>{const[e,t]=Object(s.useState)({}),[a,r]=Object(s.useState)(!1);Object(s.useEffect)((()=>{!async function(){const e=await Object(g.e)(Object(g.b)(m,"lessonPages")),a={};e.forEach((e=>{var t;a[e.id]=(null===(t=e.data().totalPages)||void 0===t?void 0:t.toString())||""})),t(a)}()}),[]);return Object(l.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async()=>{r(!0),await Promise.all(f.map((t=>Object(g.g)(Object(g.d)(m,"lessonPages",t),{totalPages:Number(e[t])||1})))),r(!1),alert("T\xfcm de\u011fi\u015fiklikler kaydedildi!")})()},children:[f.map((a=>Object(l.jsx)("div",{style:{marginBottom:12},children:Object(l.jsxs)("label",{children:[a,":",Object(l.jsx)("input",{type:"number",min:"1",value:e[a]||"",onChange:e=>((e,a)=>{/^\d*$/.test(a)&&t((t=>({...t,[e]:a})))})(a,e.target.value),style:{marginLeft:8,width:80}})]})},a))),Object(l.jsx)("button",{type:"submit",disabled:a,style:{marginTop:16},children:a?"Kaydediliyor...":"Kaydet"})]})};var S=()=>{const[e,t]=Object(s.useState)([]),[a,r]=Object(s.useState)({}),[i,n]=Object(s.useState)(!1),[o,d]=Object(s.useState)({}),[j,b]=Object(s.useState)(!1),u=async()=>{const e=await Object(g.e)(Object(g.b)(m,"lessons"));t(e.docs.map((e=>{const t=e.data();return{id:e.id,title:t.title||"",pageStudied:t.pageStudied||0,totalPages:t.totalPages||1,repeatTimes:t.repeatTimes||1,date:t.date||"",hoursStudied:t.hoursStudied||0,questionsSolved:t.questionsSolved||0}})))};Object(s.useEffect)((()=>{u(),async function(){const e=await Object(g.e)(Object(g.b)(m,"lessonPages")),t={};e.forEach((e=>{t[e.id]=Number(e.data().totalPages)||1})),d(t),b(!0)}()}),[]);const x=async e=>{await Object(g.c)(Object(g.d)(m,"lessons",e)),await u()};return i?Object(l.jsxs)("div",{style:{minHeight:"100vh",background:"#181a1b",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 0"},children:[Object(l.jsx)("button",{onClick:()=>n(!1),style:{marginBottom:32,background:"#23272a",color:"#fff",border:"none",borderRadius:8,padding:"12px 28px",fontSize:18,fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.18)"},children:"Ana Sayfaya D\xf6n"}),Object(l.jsx)(y,{})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:()=>n(!0),style:{margin:"32px auto 32px auto",display:"block",background:"#23272a",color:"#fff",border:"none",borderRadius:8,padding:"14px 32px",fontSize:20,fontWeight:700,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.18)"},children:"Derslerin Toplam Sayfa Say\u0131s\u0131n\u0131 G\xf6ster"}),Object(l.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:24,alignItems:"flex-start"},children:[Object(l.jsx)("div",{style:{flex:"1 1 340px",minWidth:320,maxWidth:400},children:Object(l.jsx)(c,{onAddLesson:async e=>{const t=o[e.title]||1;let s=a[e.title]||1,i=e.pageStudied;i>=t&&(s+=1,i-=t),r((t=>({...t,[e.title]:s})));const n={...e,totalPages:t,repeatTimes:s,pageStudied:i};await async function(e){try{const t=await Object(g.a)(Object(g.b)(m,"lessons"),e);return console.log("Lesson added with ID: ",t.id),t.id}catch(t){throw console.error("Error adding lesson: ",t),t}}(n),await u()},disabled:!j})}),Object(l.jsx)("div",{style:{flex:"2 1 400px",minWidth:320},children:Object(l.jsx)(h,{progressList:e,onDeleteLesson:x,lessonTotalPages:o,showOnlyLineGraph:!0})})]}),Object(l.jsx)(h,{progressList:e,onDeleteLesson:x,lessonTotalPages:o,showOnlyLineGraph:!1})]})};const v=document.getElementById("root")||(()=>{const e=document.createElement("div");return e.id="root",document.body.appendChild(e),e})();n.a.createRoot(v).render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(S,{})}))}},[[29,1,2]]]);
//# sourceMappingURL=main.a814fad1.chunk.js.map