(this["webpackJsonpstudy-progress-app"]=this["webpackJsonpstudy-progress-app"]||[]).push([[0],{23:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),i=a(12),n=a.n(i),l=(a(23),a(13)),o=a(3);const c=Object(l.a)({apiKey:"AIzaSyCUr_F1fI7EGdWoNKF8Ax-AUUkcm_hwm1Y",authDomain:"study-progress-app-a8e0c.firebaseapp.com",projectId:"study-progress-app-a8e0c"}),d=Object(o.f)(c);async function j(e){try{const t=await Object(o.a)(Object(o.b)(d,"lessons"),e);return console.log("Lesson added with ID: ",t.id),t.id}catch(t){throw console.error("Error adding lesson: ",t),t}}var b=a(0);const u=["Anatomi","Patoloji","Farmakoloji","Mikrobiyoloji","Biyokimya","Fizyoloji \u2013 Histoloji \u2013 Embriyoloji","Dahiliye","Pediatri","Kad\u0131n Do\u011fum ve Hastal\u0131klar","Genel Cerrahi","K\xfc\xe7\xfck Stajlar"];var x=e=>{let{onAddLesson:t}=e;const[a,r]=Object(s.useState)((()=>(new Date).toISOString().split("T")[0])),[i,n]=Object(s.useState)(""),[l,o]=Object(s.useState)(""),[c,d]=Object(s.useState)(""),[x,h]=Object(s.useState)(""),[p,g]=Object(s.useState)(""),[O,m]=Object(s.useState)("");Object(s.useEffect)((()=>{const e=localStorage.getItem("lastSelectedLesson");e&&h(e)}),[]);return Object(b.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=Number(p)+Number(O)/60,s={title:x,date:a,pageStudied:Number(l),hoursStudied:t,questionsSolved:Number(c)};await j(s),h(""),o(""),d(""),g(""),m(""),r((new Date).toISOString().split("T")[0])},children:[Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:["Tarih:",Object(b.jsx)("input",{type:"date",value:a,onChange:e=>r(e.target.value),required:!0})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:["Ders:",Object(b.jsxs)("select",{value:x,onChange:e=>{h(e.target.value),localStorage.setItem("lastSelectedLesson",e.target.value)},required:!0,children:[Object(b.jsx)("option",{value:"",children:"Se\xe7iniz"}),u.map((e=>Object(b.jsx)("option",{value:e,children:e},e)))]})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:["\xc7al\u0131\u015f\u0131lan Sayfa:",Object(b.jsx)("input",{type:"number",value:l,onChange:e=>o(e.target.value),required:!0})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:["\xc7\xf6z\xfclen Soru:",Object(b.jsx)("input",{type:"number",value:c,onChange:e=>d(e.target.value),required:!0})]})}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("label",{children:["Saat:",Object(b.jsx)("input",{type:"number",min:"0",value:p,onChange:e=>g(e.target.value),required:!0,style:{width:60,marginRight:8}})]}),Object(b.jsxs)("label",{children:["Dakika:",Object(b.jsx)("input",{type:"number",min:"0",max:"59",value:O,onChange:e=>m(e.target.value),required:!0,style:{width:60}})]})]}),Object(b.jsx)("button",{type:"submit",children:"Kaydet"})]})};const h=e=>{if(!e)return"-";const[t,a,s]=e.split("-");if(!t||!a||!s)return"-";return`${Number(s)} ${["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"][Number(a)-1]} ${t}`},p=["Anatomi","Patoloji","Farmakoloji","Mikrobiyoloji","Biyokimya","Fizyoloji \u2013 Histoloji \u2013 Embriyoloji"],g=["Dahiliye","Pediatri","Kad\u0131n Do\u011fum ve Hastal\u0131klar","Genel Cerrahi","K\xfc\xe7\xfck Stajlar"],O=new Date("2025-08-17T00:00:00"),m=()=>{const e=()=>{const e=new Date,t=O.getTime()-e.getTime();return t>0?Math.ceil(t/864e5):0},[t,a]=Object(s.useState)(e());return Object(s.useEffect)((()=>{const t=setInterval((()=>{a(e())}),6e4);return()=>clearInterval(t)}),[]),Object(b.jsxs)("div",{style:{background:"#23272a",color:"#ffb300",borderRadius:10,padding:"12px 18px",fontSize:26,fontWeight:700,textAlign:"center",marginBottom:18,letterSpacing:1.2,border:"1.5px solid #444",maxWidth:420,marginLeft:"auto",marginRight:"auto"},children:["S\u0131nava Kalan G\xfcn: ",t]})};var f=e=>{let{progressList:t,onDeleteLesson:a,showOnlyLineGraph:r=!1}=e;const i=t.reduce(((e,t)=>(e[t.title]||(e[t.title]={pages:0,questions:0,totalPages:t.totalPages,repeatTimes:t.repeatTimes}),e[t.title].pages+=t.pageStudied,e[t.title].questions+=t.questionsSolved||0,e[t.title].totalPages=t.totalPages,e[t.title].repeatTimes=t.repeatTimes,e)),{}),n=t.reduce(((e,t)=>(e[t.date]||(e[t.date]={pages:0,hours:0,questions:0}),e[t.date].pages+=t.pageStudied,e[t.date].hours+=t.hoursStudied||0,e[t.date].questions+=t.questionsSolved||0,e)),{}),l=(e,t)=>t>0?Math.min(100,Math.round(e/t*100)):0,o=[...t].sort(((e,t)=>e.date===t.date?0:e.date<t.date?1:-1)),c=Object.keys(n).sort(((e,t)=>e.localeCompare(t))),d=(Math.max(...Object.values(n).map((e=>e.pages)),1),Math.max(...Object.values(n).map((e=>e.questions)),1),Math.max(...Object.values(n).map((e=>e.hours)),1),()=>{if(0===c.length)return null;const e=c.map((e=>n[e].pages)),t=c.map((e=>n[e].questions)),a=c.map((e=>n[e].hours)),s=Math.max(...e,1),r=Math.max(...t,1),i=Math.max(...a,1),l=Math.max(400,70*c.length),o=220,d=44,j=(l-88)/Math.max(1,c.length-1),u=(e,t)=>e.map(((e,a)=>[d+a*j,176-e/t*132])),x=e=>e.reduce(((e,t,a)=>{let[s,r]=t;return e+(0===a?`M${s},${r}`:` L${s},${r}`)}),""),p=u(e,s),g=u(t,r),O=u(a,i);return Object(b.jsxs)("div",{style:{background:"#23272a",borderRadius:12,padding:20,marginBottom:24,overflowX:"auto",boxShadow:"0 2px 12px rgba(0,0,0,0.18)",border:"1.5px solid #333",minWidth:340,maxWidth:"100%"},children:[Object(b.jsxs)("h3",{style:{margin:"0 0 12px 0",color:"#e0e0e0",fontSize:20,letterSpacing:.5,textAlign:"center"},children:[Object(b.jsx)(m,{}),"G\xfcnl\xfck \xc7al\u0131\u015fma \xc7izgi Grafi\u011fi"]}),Object(b.jsx)("div",{style:{width:"100%",overflowX:"auto"},children:Object(b.jsxs)("svg",{width:l,height:o,style:{display:"block",margin:"0 auto",background:"#23272a"},children:[[.25,.5,.75,1].map((e=>{const t=d+132*(1-e);return Object(b.jsx)("line",{x1:d,x2:l-d,y1:t,y2:t,stroke:"#444",strokeDasharray:"3,3"},e)})),Object(b.jsx)("text",{x:6,y:52,fontSize:"15",fill:"#4caf50",textAnchor:"start",fontWeight:"bold",style:{letterSpacing:1},children:"Sayfa"}),Object(b.jsx)("text",{x:6,y:76,fontSize:"15",fill:"#2196f3",textAnchor:"start",fontWeight:"bold",style:{letterSpacing:1},children:"Soru"}),Object(b.jsx)("text",{x:6,y:100,fontSize:"15",fill:"#ffb300",textAnchor:"start",fontWeight:"bold",style:{letterSpacing:1},children:"Saat"}),Object(b.jsx)("path",{d:x(p),fill:"none",stroke:"#4caf50",strokeWidth:"3"}),Object(b.jsx)("path",{d:x(g),fill:"none",stroke:"#2196f3",strokeWidth:"3"}),Object(b.jsx)("path",{d:x(O),fill:"none",stroke:"#ffb300",strokeWidth:"3"}),p.map(((t,a)=>{let[s,r]=t;return Object(b.jsxs)("g",{children:[Object(b.jsx)("circle",{cx:s,cy:r,r:5,fill:"#4caf50",stroke:"#23272a",strokeWidth:"2"}),Object(b.jsx)("text",{x:s,y:r-12,fontSize:"12",fill:"#4caf50",textAnchor:"middle",fontWeight:"bold",children:e[a]})]},"p"+a)})),g.map(((e,a)=>{let[s,r]=e;return Object(b.jsxs)("g",{children:[Object(b.jsx)("circle",{cx:s,cy:r,r:5,fill:"#2196f3",stroke:"#23272a",strokeWidth:"2"}),Object(b.jsx)("text",{x:s,y:r-12,fontSize:"12",fill:"#2196f3",textAnchor:"middle",fontWeight:"bold",children:t[a]})]},"q"+a)})),O.map(((e,t)=>{let[s,r]=e;return Object(b.jsxs)("g",{children:[Object(b.jsx)("circle",{cx:s,cy:r,r:5,fill:"#ffb300",stroke:"#23272a",strokeWidth:"2"}),Object(b.jsx)("text",{x:s,y:r+20,fontSize:"12",fill:"#ffb300",textAnchor:"middle",fontWeight:"bold",children:a[t]})]},"h"+t)})),c.map(((e,t)=>Object(b.jsx)("text",{x:d+t*j,y:198,textAnchor:"middle",fontSize:"13",fill:"#b0b0b0",fontWeight:"bold",children:h(e).split(" ")[0]},e)))]})}),Object(b.jsxs)("div",{style:{display:"flex",gap:18,fontSize:15,marginTop:10,color:"#b0b0b0",justifyContent:"center"},children:[Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{style:{display:"inline-block",width:18,height:6,background:"#4caf50",borderRadius:2,marginRight:6}})," Sayfa"]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{style:{display:"inline-block",width:18,height:6,background:"#2196f3",borderRadius:2,marginRight:6}})," Soru"]}),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{style:{display:"inline-block",width:18,height:6,background:"#ffb300",borderRadius:2,marginRight:6}})," Saat"]})]})]})});if(r)return Object(b.jsx)(d,{});const[j,u]=Object(s.useState)(null);return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"\xc7al\u0131\u015fma Grafi\u011fi"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"Toplam \xc7al\u0131\u015f\u0131lan (Ders Baz\u0131nda)"}),Object(b.jsx)("div",{className:"card-row",children:p.map((e=>{const t=i[e];return Object(b.jsxs)("div",{className:"card-style",children:[Object(b.jsx)("strong",{children:e}),Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan Sayfa:"})," ",t?`${t.pages} / ${t.totalPages}`:"-"," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7\xf6z\xfclen Soru:"})," ",t?t.questions:"-"," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Ka\xe7\u0131nc\u0131 Tekrar:"})," ",t?t.repeatTimes:"-"," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\u0130lerleme:"})," ",t?l(t.pages,t.totalPages):0,"%",Object(b.jsx)("div",{className:"progress-bar-bg",children:Object(b.jsx)("div",{className:"progress-bar-fill",style:{width:t?`${l(t.pages,t.totalPages)}%`:"0%"}})})]},e)}))}),Object(b.jsx)("div",{className:"card-row",children:g.map((e=>{const t=i[e];return Object(b.jsxs)("div",{className:"card-style",children:[Object(b.jsx)("strong",{children:e}),Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan Sayfa:"})," ",t?`${t.pages} / ${t.totalPages}`:"-"," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7\xf6z\xfclen Soru:"})," ",t?t.questions:"-"," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Ka\xe7\u0131nc\u0131 Tekrar:"})," ",t?t.repeatTimes:"-"," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\u0130lerleme:"})," ",t?l(t.pages,t.totalPages):0,"%",Object(b.jsx)("div",{className:"progress-bar-bg",children:Object(b.jsx)("div",{className:"progress-bar-fill",style:{width:t?`${l(t.pages,t.totalPages)}%`:"0%"}})})]},e)}))})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:"G\xfcnl\xfck Toplamlar"}),Object(b.jsx)("div",{style:{maxHeight:220,overflowY:"auto",background:"#23272a",borderRadius:8,padding:8,border:"1px solid #333"},children:Object(b.jsx)("ul",{style:{margin:0},children:Object.entries(n).sort(((e,t)=>{let[a]=e,[s]=t;return a<s?1:-1})).map((e=>{let[t,a]=e;return Object(b.jsxs)("li",{children:[Object(b.jsxs)("strong",{children:[h(t),":"]})," ",a.pages," sayfa, ",a.questions," soru, ",a.hours," saat",Object(b.jsx)("br",{}),Object(b.jsxs)("span",{children:["Saatte Ortalama Sayfa/Soru: ",a.hours>0?(a.pages/a.hours).toFixed(2):"-"," / ",a.hours>0?(a.questions/a.hours).toFixed(2):"-"]})]},t)}))})})]}),Object(b.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:18,marginTop:24,marginBottom:24,justifyContent:"flex-start"},children:o.map(((e,t)=>Object(b.jsxs)("div",{style:{background:"#23272a",border:"1px solid #444",borderRadius:10,padding:"16px 20px",color:"#fff",minWidth:240,maxWidth:270,margin:0,display:"flex",flexDirection:"column",alignItems:"flex-start",position:"relative"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("strong",{children:"Ders:"})," ",e.title," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Tarih:"})," ",h(e.date)," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan Sayfa:"})," ",e.pageStudied," / ",e.totalPages," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7\xf6z\xfclen Soru:"})," ",e.questionsSolved," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Ka\xe7\u0131nc\u0131 Tekrar:"})," ",e.repeatTimes," ",Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"\xc7al\u0131\u015f\u0131lan saat:"})," ",e.hoursStudied]}),Object(b.jsx)("button",{style:{background:"#d32f2f",color:"#fff",border:"none",borderRadius:6,padding:"8px 18px",fontWeight:600,cursor:"pointer",marginTop:12,alignSelf:"flex-end"},onClick:()=>u(t),children:"Sil"}),j===t&&Object(b.jsxs)("div",{style:{background:"#23272a",border:"1px solid #444",borderRadius:8,padding:12,color:"#fff",minWidth:180,position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:10,boxShadow:"0 2px 12px rgba(0,0,0,0.25)"},children:["Silmek istedi\u011finize emin misiniz?",Object(b.jsxs)("div",{style:{marginTop:8,display:"flex",gap:10},children:[Object(b.jsx)("button",{style:{background:"#d32f2f",color:"#fff",border:"none",borderRadius:6,padding:"6px 16px",fontWeight:600},onClick:()=>{e.id&&a(e.id),u(null)},children:"Evet"}),Object(b.jsx)("button",{style:{background:"#444",color:"#fff",border:"none",borderRadius:6,padding:"6px 16px",fontWeight:600},onClick:()=>u(null),children:"Hay\u0131r"})]})]})]},t)))})]})};const y=["Anatomi","Patoloji","Farmakoloji","Mikrobiyoloji","Biyokimya","Fizyoloji \u2013 Histoloji \u2013 Embriyoloji","Dahiliye","Pediatri","Kad\u0131n Do\u011fum ve Hastal\u0131klar","Genel Cerrahi","K\xfc\xe7\xfck Stajlar"];var S=()=>{const[e,t]=Object(s.useState)({}),[a,r]=Object(s.useState)(!1);Object(s.useEffect)((()=>{!async function(){const e=await Object(o.e)(Object(o.b)(d,"lessonPages")),a={};e.forEach((e=>{a[e.id]=e.data().totalPages||""})),t(a)}()}),[]);return Object(b.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(async()=>{r(!0),await Promise.all(y.map((t=>Object(o.g)(Object(o.d)(d,"lessonPages",t),{totalPages:e[t]||""})))),r(!1),alert("T\xfcm de\u011fi\u015fiklikler kaydedildi!")})()},children:[y.map((a=>Object(b.jsx)("div",{style:{marginBottom:12},children:Object(b.jsxs)("label",{children:[a,":",Object(b.jsx)("input",{type:"number",value:e[a]||"",onChange:e=>((e,a)=>{t((t=>({...t,[e]:a})))})(a,e.target.value),style:{marginLeft:8,width:80}})]})},a))),Object(b.jsx)("button",{type:"submit",disabled:a,style:{marginTop:16},children:a?"Kaydediliyor...":"Kaydet"})]})};var v=()=>{const[e,t]=Object(s.useState)([]),[a,r]=Object(s.useState)({}),[i,n]=Object(s.useState)(!1),[l,c]=Object(s.useState)({}),u=async()=>{const e=await Object(o.e)(Object(o.b)(d,"lessons"));t(e.docs.map((e=>{const t=e.data();return{id:e.id,title:t.title||"",pageStudied:t.pageStudied||0,totalPages:t.totalPages||1,repeatTimes:t.repeatTimes||1,date:t.date||"",hoursStudied:t.hoursStudied||0,questionsSolved:t.questionsSolved||0}})))};Object(s.useEffect)((()=>{u(),async function(){const e=await Object(o.e)(Object(o.b)(d,"lessonPages")),t={};e.forEach((e=>{t[e.id]=Number(e.data().totalPages)||1})),c(t)}()}),[]);const h=async e=>{await Object(o.c)(Object(o.d)(d,"lessons",e)),await u()};return i?Object(b.jsxs)("div",{style:{minHeight:"100vh",background:"#181a1b",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",padding:"40px 0"},children:[Object(b.jsx)("button",{onClick:()=>n(!1),style:{marginBottom:32,background:"#23272a",color:"#fff",border:"none",borderRadius:8,padding:"12px 28px",fontSize:18,fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.18)"},children:"Ana Sayfaya D\xf6n"}),Object(b.jsx)(S,{})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("button",{onClick:()=>n(!0),style:{margin:"32px auto 32px auto",display:"block",background:"#23272a",color:"#fff",border:"none",borderRadius:8,padding:"14px 32px",fontSize:20,fontWeight:700,cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.18)"},children:"Derslerin Toplam Sayfa Say\u0131s\u0131n\u0131 G\xf6ster"}),Object(b.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:24,alignItems:"flex-start"},children:[Object(b.jsx)("div",{style:{flex:"1 1 340px",minWidth:320,maxWidth:400},children:Object(b.jsx)(x,{onAddLesson:async e=>{const t=l[e.title]||1;let s=a[e.title]||1,i=e.pageStudied;i>=t&&(s+=1,i-=t),r((t=>({...t,[e.title]:s})));const n={...e,totalPages:t,repeatTimes:s,pageStudied:i};await j(n),await u()}})}),Object(b.jsx)("div",{style:{flex:"2 1 400px",minWidth:320},children:Object(b.jsx)(f,{progressList:e,onDeleteLesson:h,showOnlyLineGraph:!0})})]}),Object(b.jsx)(f,{progressList:e,onDeleteLesson:h,showOnlyLineGraph:!1})]})};const k=document.getElementById("root")||(()=>{const e=document.createElement("div");return e.id="root",document.body.appendChild(e),e})();n.a.createRoot(k).render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(v,{})}))}},[[29,1,2]]]);
//# sourceMappingURL=main.74b8c1b5.chunk.js.map